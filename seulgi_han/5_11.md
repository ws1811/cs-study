![image](https://github.com/ws1811/cs-study/assets/117894789/d3772da0-90ef-45ab-8497-0fec62e8caef)**DNS Round Robin**
- **부하 분산의 대표적인 알고리즘**
- 어떤 웹 서비스가 있을 때, 이 웹서비스를 담당하는 여러대의 웹 서버는 각각 자신의 공인 IP를 가지고 있다.
- 즉, 사용자가 브라우저에 DNS 도메인 주소를 입력 => 라운드 로빈 방식에 의해 여러대의 서버 중 차례에 맞게 IP가 선택돼서 사용자에게 알려줌 => 결과적으로 어떤 웹사이트에 접속하는 다수의 사용자는, 실제로 복수의 웹 서버에 나눠서 접속하게 됐던것! 서버 부하 분산하기 위해

먼저 **로드밸런서**를 알아야 한다.
- load balancer란 서버의 부하를 분산 해주는 장치나 기술.
- 즉, 서버 한대에 집중돼서 부하가 되지 않도록 traffic관리! 서버가 최적의 효율을 발휘하도록
- load balance의 기본 기능에 health check(서버가 살아있는지,연결됐는지 확인 보통 port사용), 알고리즘에 따른 분산 처리..등등이 있는데
  Round Robin은 이 알고리즘에 따른 분산처리 알고리즘중 하나라고 한다!
![image](https://github.com/ws1811/cs-study/assets/117894789/bddea1ae-965e-4194-9fae-ea567c80aac3)
- 만약 least connection 방식이었으면(최소 traffic가지는 서버부터 체우는것), ㅁ4번,ㅁ5번 traffic의 연결이 끊어졌을 때, ㅁ7번째 trafiic을 빈 4번째나 5번째 server에 넣었을 것이다.
- 하지만, round robin은 서버의 순서가 정해져 있기 때문에, 트래픽이 종료되어 비었을지라도, 순서대로 1번째 서버에 들어가게 된다. (6번째 traffic을 6번 server에 넣었으므로 다음순서는 1번 server다.)
  
**먼저 Domain name system란?**
- www.~~com 처럼 사람이 읽을 수 있는 주소를 사용한다. 이를 ip주소로 변환시켜 통신시켜 준다.
마치 전화번호 부 같은 역할.
- 사이트에 접속하기 위해 사용자가 브라우저에 도메인 주소를 보냈다. => DNS에 의해 IP주소로 변환

**round robin DNB단점**
- round robin은 서버 스펙이 비슷비슷한 경우에 사용해야한다. 성능이 좋은 서버가 있다면 그 서버에 traffic많이 할당해야 하므로 적절하지 않다.
- 이럴때!! WRR (weighted round robin)을 사용해서 각 서버에 가중치를 설정하면 분산되는 traffic 비율을 설정할 수 있다고 한다!
  
1. 서버의 수만큼 공인 IP주소가 필요하다.
2. 서버에 장애가 발생했는데도 모르고 부하를 분산시킨다. (서버에 문제가있어서 저서버로 보내면 안되는데 모르고 보내버린다! 왜? round robin DNS는 health check를 하지 않기 때문)
3. DNS 결과를 캐싱해서 재사용하기 때문에 균등한 분산이 어렵다.
- 똑같은 도메인 주소를 쳤을때, 이전에 기억사용된 IP가 캐싱되어져서 캐시된 IP주소가 반환된다.
- 프록시서버나 local DNS서버처럼 중간서버가 존재할 때, 도메인 주소를 기억하고 있기 때문에 이전에 보내준 IP를 그대로 보낸다 => 이러면 전과 똑같은 서버로 보내진 것. 다른 IP주소로 분산되지 않았다!


**참고자료**
- **load balancer와 round robin dns 외의 알고리즘 least connection, hash방**
- https://www.youtube.com/watch?v=kYipnodgi2I


**HTTP&HTTPS 복습겸 다시!**
- 클라이언트와 서버가 resource를 주고 받을 때 쓰는 통신 규약.
- 앞에 http를 붙여서 읽는법을 알려줌. 여기가 위치고, 여기가 쿼리고!!.. (마치 개인정보에서 여기가 주소, 이름, 전화번호야! 알려주는 것처럼)
- text 교환이므로 누군가가 신호를 가로채서 해킹, 변조 시킬 수 있다. => https로 해결

**HTTPS**
- TLS/SSL 사용
- https로 정보 감췄다고 안전한건 아니다. 중간에 해커가 naver.com인척해서 경로 가로챌수도. (여기로 오세요~~ 가짜 네이버)
- 그러므로 key뿐만 아니라 CA인증기관으로부터 **인증서**를 받아 진짜 naver.com인것을 인증해줘서 해결한다.

**HTTPS symmetric key**

**TLS: transfer layer security 전송 계층 보안**
- SSL 업그레이드 시킨것! 여전히 SSL이라고 부르기도함.

**SSL: secure socket layer**
-

**참고자료**
- https://github.com/Songwonseok/CS-Study/blob/main/Network/HTTP%26HTTPS.md
  
  
